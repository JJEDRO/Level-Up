<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level-Up Workout Tracker</title>
    <meta name="description" content="Gamified workout tracker for competing with friends. Track exercises, earn points, and level up together!">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css?v=5">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèãÔ∏è Level-Up Workout Tracker</h1>
            
            <!-- Workout Selection Section -->
            <div id="workout-selection" class="workout-selection">
                <h3>üèãÔ∏è Select Your Workouts for Today</h3>
                <p>Choose up to 5 different workouts to complete today:</p>
                
                <!-- Workout Selection Tabs -->
                <div class="workout-selection-tabs">
                    <button class="workout-tab-btn active" data-tab="selection">üìã Select Workouts</button>
                    <button class="workout-tab-btn" data-tab="preview">üëÄ Preview Workouts</button>
                </div>
                
                <!-- Selection Tab -->
                <div id="selection-tab" class="workout-tab-content active">
                    <div class="workout-options">
                        <div class="workout-option">
                            <input type="checkbox" id="select-main-workout" class="workout-checkbox">
                            <label for="select-main-workout" class="workout-label">
                                <div class="workout-info">
                                    <h4>üí™ Main Workout</h4>
                                    <p>1,720 points - Pushups, Jump Squats, Plank, Knee Pushups, Situps, Jumping Jacks</p>
                                </div>
                            </label>
                        </div>
                        
                        <div class="workout-option">
                            <input type="checkbox" id="select-second-workout" class="workout-checkbox">
                            <label for="select-second-workout" class="workout-label">
                                <div class="workout-info">
                                    <h4>üî• 2nd Workout</h4>
                                    <p>2,990 points - Pushups, Plank, Burpees, Normal Squats</p>
                                </div>
                            </label>
                        </div>
                        
                        <div class="workout-option">
                            <input type="checkbox" id="select-mobility-workout" class="workout-checkbox">
                            <label for="select-mobility-workout" class="workout-label">
                                <div class="workout-info">
                                    <h4>üßò Mobility & Stretching</h4>
                                    <p>440 points - Warm-up, Mobility Work, Activation, Cool-down</p>
                                </div>
                            </label>
                        </div>
                        
                        <div class="workout-option">
                            <input type="checkbox" id="select-basic-exercises" class="workout-checkbox">
                            <label for="select-basic-exercises" class="workout-label">
                                <div class="workout-info">
                                    <h4>üèÉ Basic Exercises</h4>
                                    <p>530 points - Squats, Jumping Jacks, Calf Raises, Glute Bridges</p>
                                </div>
                            </label>
                        </div>
                        
                        <div class="workout-option">
                            <input type="checkbox" id="select-elite-challenges" class="workout-checkbox">
                            <label for="select-elite-challenges" class="workout-label">
                                <div class="workout-info">
                                    <h4>‚ö° Elite Challenges</h4>
                                    <p>20,800 points - Burpees, 5k Run, 100 Push-ups, Murph Prep</p>
                                </div>
                            </label>
                        </div>
                        
                        <div class="workout-option">
                            <input type="checkbox" id="select-workout-quests" class="workout-checkbox">
                            <label for="select-workout-quests" class="workout-label">
                                <div class="workout-info">
                                    <h4>üéØ Workout Quests</h4>
                                    <p>1,675 points - Push-ups, Lunges, Crunches, Leg Raises</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="selected-count">
                        <span id="selected-count">0</span> / 5 workouts selected
                    </div>
                    
                    <button id="start-selected-workouts" class="start-workouts-btn" disabled>
                        üöÄ Start Selected Workouts
                    </button>
                    
                    <!-- Workout Controls - Available after selection -->
                    <div id="workout-controls-selection" class="workout-controls-selection" style="display: none; margin-top: 2rem;">
                        <button id="start-workout-btn" onclick="startWorkout()" class="start-workout-btn">
                            üèãÔ∏è Start Working Out!
                        </button>
                        <div id="workout-status" class="workout-status hidden">
                            <span class="status-text">üí™ Workout in progress...</span>
                            <button onclick="endWorkout()" class="end-workout-btn">Finish Workout</button>
                        </div>
                    </div>
                </div>
                
                <!-- Preview Tab -->
                <div id="preview-tab" class="workout-tab-content">
                    <div class="workout-preview-container">
                        <div class="preview-message">
                            <h4>üìã Selected Workouts Preview</h4>
                            <p>Select workouts from the "Select Workouts" tab to see their details here.</p>
                        </div>
                        <div id="selected-workouts-preview"></div>
                    </div>
                </div>
            </div>

            <!-- Profile Section - Always visible -->
            <div class="profile-section">
                <div class="profile-header">
                    <h3>üë§ Your Profile</h3>
                    <button onclick="openProfileModal()" class="edit-profile-btn">‚úèÔ∏è Edit Profile</button>
                </div>
                <div class="profile-content">
                    <div class="profile-avatar">
                        <div class="avatar-display" id="profile-avatar" onclick="openProfileModal()">
                            üë§
                        </div>
                        <div>
                            <strong id="profile-name">Workout User</strong>
                        </div>
                    </div>
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="profile-total-points">0</div>
                            <div class="profile-stat-label">Total Points</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="profile-workouts-completed">0</div>
                            <div class="profile-stat-label">Workouts</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="profile-current-streak">0</div>
                            <div class="profile-stat-label">Day Streak</div>
                        </div>
                    </div>
                </div>
            </div>

        <!-- Main App Section (hidden until workouts selected) -->
        <div id="app-content" class="app-content hidden">
            <!-- Day Tracker Section -->
            <div class="day-tracker">
                <div class="day-info">
                    <span>üìÖ Day <strong id="current-day">1</strong> of your workout journey</span>
                    <span class="streak-info">üî• <strong id="workout-streak">0</strong> day streak</span>
                </div>
                <div class="day-controls">
                    <button onclick="goToNewDay()" class="new-day-btn">ÔøΩ Start New Day</button>
                    <button onclick="saveProgress()" class="save-btn">üíæ Save Progress</button>
                </div>
            </div>
            
            <!-- Workout Controls -->
            <div class="workout-controls">
                <button id="start-workout-btn" onclick="startWorkout()" class="start-workout-btn">
                    üèãÔ∏è Start Working Out!
                </button>
                <div id="workout-status" class="workout-status hidden">
                    <span class="status-text">üí™ Workout in progress...</span>
                    <button onclick="endWorkout()" class="end-workout-btn">Finish Workout</button>
                </div>
            </div>
            
            <!-- Workout Timer -->
            <div id="workout-timer" class="workout-timer hidden">
                <div class="timer-display" id="timer-display">00:00:00</div>
                <div class="timer-info" id="timer-info">Ready to start your workout!</div>
                <div class="timer-controls">
                    <button id="timer-start-btn" onclick="startTimer()" class="timer-btn start">‚ñ∂Ô∏è Start</button>
                    <button id="timer-pause-btn" onclick="pauseTimer()" class="timer-btn pause hidden">‚è∏Ô∏è Pause</button>
                    <button id="timer-stop-btn" onclick="stopTimer()" class="timer-btn stop hidden">‚èπÔ∏è Stop</button>
                </div>
            </div>
            
            <!-- Enhanced Score Display -->
            <div class="enhanced-score-display">
                <div class="main-scores">
                    <div class="score-card total-points-card">
                        <div class="score-icon">üèÜ</div>
                        <div class="score-info">
                            <div class="score-label">Total Points</div>
                            <div class="score-value" id="total-points">0</div>
                        </div>
                    </div>
                    <div class="score-card today-points-card">
                        <div class="score-icon">‚ö°</div>
                        <div class="score-info">
                            <div class="score-label">Today's Points</div>
                            <div class="score-value" id="today-points">0</div>
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Activity Feed -->
                <div class="enhanced-activity-section">
                    <div class="activity-header">
                        <h3>üìà Recent Activity</h3>
                        <button onclick="resetAllProgress()" class="reset-all-btn">üîÑ Reset Everything</button>
                    </div>
                    <div class="activity-feed-container">
                        <div id="activity-feed" class="activity-feed-enhanced"></div>
                    </div>
                </div>
            </div>
        </div>
        </header>

        <!-- Tabs and content only show when workouts selected -->
        <div class="tabs hidden" id="workout-tabs" style="display: none;">
            <button class="tab-btn active" onclick="openTab(event, 'main-workout')">Main Workout</button>
            <button class="tab-btn" onclick="openTab(event, 'second-workout')">2nd Workout</button>
            <button class="tab-btn" onclick="openTab(event, 'mobility-workout')">Mobility & Stretching</button>
            <button class="tab-btn" onclick="openTab(event, 'basic-exercises')">Basic Exercises</button>
            <button class="tab-btn" onclick="openTab(event, 'elite-challenges')">Elite Challenges</button>
            <button class="tab-btn" onclick="openTab(event, 'workout-quests')">Workout Quests</button>
            <button class="tab-btn" onclick="openTab(event, 'side-quests')">Side Quests</button>
        </div>

        <!-- Main Workout Tab -->
        <div id="main-workout" class="tab-content active" style="display: none;">
            <h2>1st Workout üëç (Total: 1,720 points)</h2>
            <div class="workout-grid">
                <div class="exercise-card">
                    <h3>Pushups</h3>
                    <p>Target: 30 reps</p>
                    <input type="number" id="pushups-main" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('pushups-main', 30, 300)">Complete (300 pts)</button>
                    <span class="status" id="pushups-main-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Jump Squats</h3>
                    <p>Target: 120 reps</p>
                    <input type="number" id="jump-squats-main" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('jump-squats-main', 120, 40)">Complete (40 pts)</button>
                    <span class="status" id="jump-squats-main-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Plank</h3>
                    <p>Target: 2 minutes</p>
                    <input type="number" id="plank-main" placeholder="Seconds completed" min="0">
                    <button onclick="completeExercise('plank-main', 120, 200)">Complete (200 pts)</button>
                    <span class="status" id="plank-main-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Knee Pushups</h3>
                    <p>Target: 120 reps</p>
                    <input type="number" id="knee-pushups-main" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('knee-pushups-main', 120, 60)">Complete (60 pts)</button>
                    <span class="status" id="knee-pushups-main-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Situps</h3>
                    <p>Target: 150 reps</p>
                    <input type="number" id="situps-main" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('situps-main', 150, 120)">Complete (120 pts)</button>
                    <span class="status" id="situps-main-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Jumping Jacks</h3>
                    <p>Target: 400 reps</p>
                    <input type="number" id="jumping-jacks-main" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('jumping-jacks-main', 400, 1000)">Complete (1000 pts)</button>
                    <span class="status" id="jumping-jacks-main-status"></span>
                </div>
            </div>
            <button class="complete-workout-btn" onclick="completeFullWorkout('main', 1720)">Complete Full Main Workout</button>
        </div>

        <!-- Second Workout Tab -->
        <div id="second-workout" class="tab-content" style="display: none;">
            <h2>2nd Workout for more points! (Total: 2,990 points)</h2>
            <div class="workout-grid">
                <div class="exercise-card">
                    <h3>Pushups</h3>
                    <p>Target: 15 reps</p>
                    <input type="number" id="pushups-second" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('pushups-second', 15, 150)">Complete (150 pts)</button>
                    <span class="status" id="pushups-second-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Plank</h3>
                    <p>Target: 3 minutes</p>
                    <input type="number" id="plank-second" placeholder="Seconds completed" min="0">
                    <button onclick="completeExercise('plank-second', 180, 300)">Complete (300 pts)</button>
                    <span class="status" id="plank-second-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Burpees</h3>
                    <p>Target: 50 reps</p>
                    <input type="number" id="burpees-second" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('burpees-second', 50, 2500)">Complete (2500 pts)</button>
                    <span class="status" id="burpees-second-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Normal Squats</h3>
                    <p>Target: 40 reps</p>
                    <input type="number" id="squats-second" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('squats-second', 40, 40)">Complete (40 pts)</button>
                    <span class="status" id="squats-second-status"></span>
                </div>
            </div>
            <button class="complete-workout-btn" onclick="completeFullWorkout('second', 2990)">Complete Full 2nd Workout</button>
        </div>

        <!-- Mobility & Stretching Tab -->
        <div id="mobility-workout" class="tab-content" style="display: none;">
            <h2>3rd Workout - Mobility & Stretching (Total: 440 points)</h2>
            
            <h3>Warm-up</h3>
            <div class="workout-grid">
                <div class="exercise-card">
                    <h3>Jumping Jacks</h3>
                    <p>Target: 60 seconds</p>
                    <input type="number" id="jj-warmup" placeholder="Seconds completed" min="0">
                    <button onclick="completeExercise('jj-warmup', 60, 30)">Complete (30 pts)</button>
                    <span class="status" id="jj-warmup-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Arm Circles</h3>
                    <p>Target: 60 seconds</p>
                    <input type="number" id="arm-circles-warmup" placeholder="Seconds completed" min="0">
                    <button onclick="completeExercise('arm-circles-warmup', 60, 30)">Complete (30 pts)</button>
                    <span class="status" id="arm-circles-warmup-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Hip Circles</h3>
                    <p>Target: 60 seconds</p>
                    <input type="number" id="hip-circles-warmup" placeholder="Seconds completed" min="0">
                    <button onclick="completeExercise('hip-circles-warmup', 60, 20)">Complete (20 pts)</button>
                    <span class="status" id="hip-circles-warmup-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Bodyweight Squats</h3>
                    <p>Target: 20 reps</p>
                    <input type="number" id="bw-squats-warmup" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('bw-squats-warmup', 20, 20)">Complete (20 pts)</button>
                    <span class="status" id="bw-squats-warmup-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Walking Toe Touches</h3>
                    <p>Target: 30 steps</p>
                    <input type="number" id="toe-touches-warmup" placeholder="Steps completed" min="0">
                    <button onclick="completeExercise('toe-touches-warmup', 30, 20)">Complete (20 pts)</button>
                    <span class="status" id="toe-touches-warmup-status"></span>
                </div>
            </div>

            <h3>Mobility Work</h3>
            <div class="workout-grid">
                <div class="exercise-card"><h4>World's Greatest Stretch</h4><input type="checkbox" id="wgs"><button onclick="completeSimpleExercise('wgs', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>90/90 Hip Rotations</h4><input type="checkbox" id="hip-rot"><button onclick="completeSimpleExercise('hip-rot', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Cat-Cow Stretch</h4><input type="checkbox" id="cat-cow"><button onclick="completeSimpleExercise('cat-cow', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Kneeling Thoracic Rotations</h4><input type="checkbox" id="thoracic"><button onclick="completeSimpleExercise('thoracic', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Ankle Rocks</h4><input type="checkbox" id="ankle-rocks"><button onclick="completeSimpleExercise('ankle-rocks', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Bretzel Stretch</h4><input type="checkbox" id="bretzel"><button onclick="completeSimpleExercise('bretzel', 20)">Complete (20 pts)</button></div>
            </div>

            <h3>Activation Exercises</h3>
            <div class="workout-grid">
                <div class="exercise-card">
                    <h4>Banded Glute Bridges</h4>
                    <p>Target: 15 reps</p>
                    <input type="number" id="glute-bridges" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('glute-bridges', 15, 20)">Complete (20 pts)</button>
                    <span class="status" id="glute-bridges-status"></span>
                </div>
                <div class="exercise-card">
                    <h4>Side-Lying Clamshells</h4>
                    <p>Target: 10 reps each side</p>
                    <input type="number" id="clamshells" placeholder="Total reps completed" min="0">
                    <button onclick="completeExercise('clamshells', 20, 20)">Complete (20 pts)</button>
                    <span class="status" id="clamshells-status"></span>
                </div>
                <div class="exercise-card">
                    <h4>Banded Shoulder External Rotations</h4>
                    <p>Target: 12 reps each arm</p>
                    <input type="number" id="shoulder-rot" placeholder="Total reps completed" min="0">
                    <button onclick="completeExercise('shoulder-rot', 24, 20)">Complete (20 pts)</button>
                    <span class="status" id="shoulder-rot-status"></span>
                </div>
                <div class="exercise-card">
                    <h4>Dead Bug Core Holds</h4>
                    <p>Target: 8 reps each side</p>
                    <input type="number" id="dead-bug" placeholder="Total reps completed" min="0">
                    <button onclick="completeExercise('dead-bug', 16, 20)">Complete (20 pts)</button>
                    <span class="status" id="dead-bug-status"></span>
                </div>
                <div class="exercise-card">
                    <h4>Heel Walks + Toe Walks</h4>
                    <p>Target: 20 steps each</p>
                    <input type="number" id="heel-toe" placeholder="Total steps completed" min="0">
                    <button onclick="completeExercise('heel-toe', 40, 20)">Complete (20 pts)</button>
                    <span class="status" id="heel-toe-status"></span>
                </div>
            </div>

            <h3>Cool-down Stretches</h3>
            <div class="workout-grid">
                <div class="exercise-card"><h4>Seated Hamstring Stretch</h4><input type="checkbox" id="hamstring"><button onclick="completeSimpleExercise('hamstring', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Standing Quad Stretch</h4><input type="checkbox" id="quad"><button onclick="completeSimpleExercise('quad', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Pigeon Pose</h4><input type="checkbox" id="pigeon"><button onclick="completeSimpleExercise('pigeon', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Couch Stretch</h4><input type="checkbox" id="couch"><button onclick="completeSimpleExercise('couch', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Chest Doorway Stretch</h4><input type="checkbox" id="chest"><button onclick="completeSimpleExercise('chest', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Wrist Stretches</h4><input type="checkbox" id="wrist"><button onclick="completeSimpleExercise('wrist', 20)">Complete (20 pts)</button></div>
                <div class="exercise-card"><h4>Calf Stretch</h4><input type="checkbox" id="calf"><button onclick="completeSimpleExercise('calf', 20)">Complete (20 pts)</button></div>
            </div>
            <button class="complete-workout-btn" onclick="completeFullWorkout('mobility', 440)">Complete Full Mobility Workout</button>
        </div>

        <!-- Basic Exercises Tab -->
        <div id="basic-exercises" class="tab-content" style="display: none;">
            <h2>Basic Exercises (Total: 530 points)</h2>
            <div class="workout-grid">
                <div class="exercise-card">
                    <h3>Normal Squats</h3>
                    <p>Target: 40 reps</p>
                    <input type="number" id="normal-squats" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('normal-squats', 40, 40)">Complete (40 pts)</button>
                    <span class="status" id="normal-squats-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Jumping Jacks</h3>
                    <p>Target: 50 reps</p>
                    <input type="number" id="jj-basic" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('jj-basic', 50, 100)">Complete (100 pts)</button>
                    <span class="status" id="jj-basic-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Calf Raises</h3>
                    <p>Target: 50 reps</p>
                    <input type="number" id="calf-raises" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('calf-raises', 50, 50)">Complete (50 pts)</button>
                    <span class="status" id="calf-raises-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Glute Bridges</h3>
                    <p>Target: 25 reps</p>
                    <input type="number" id="glute-bridges-basic" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('glute-bridges-basic', 25, 75)">Complete (75 pts)</button>
                    <span class="status" id="glute-bridges-basic-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Arm Circles</h3>
                    <p>Target: 30 sec/direction</p>
                    <input type="number" id="arm-circles-basic" placeholder="Seconds completed" min="0">
                    <button onclick="completeExercise('arm-circles-basic', 60, 25)">Complete (25 pts)</button>
                    <span class="status" id="arm-circles-basic-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>High Knees</h3>
                    <p>Target: 60 seconds</p>
                    <input type="number" id="high-knees" placeholder="Seconds completed" min="0">
                    <button onclick="completeExercise('high-knees', 60, 120)">Complete (120 pts)</button>
                    <span class="status" id="high-knees-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Butt Kicks</h3>
                    <p>Target: 60 seconds</p>
                    <input type="number" id="butt-kicks" placeholder="Seconds completed" min="0">
                    <button onclick="completeExercise('butt-kicks', 60, 120)">Complete (120 pts)</button>
                    <span class="status" id="butt-kicks-status"></span>
                </div>
            </div>
        </div>

        <!-- Elite Challenges Tab -->
        <div id="elite-challenges" class="tab-content" style="display: none;">
            <h2>Elite Fitness Challenges (Total: 20,800 points)</h2>
            <div class="workout-grid">
                <div class="exercise-card elite">
                    <h3>Burpees</h3>
                    <p>Target: 50 reps</p>
                    <input type="number" id="burpees-elite" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('burpees-elite', 50, 2500)">Complete (2500 pts)</button>
                    <span class="status" id="burpees-elite-status"></span>
                </div>
                <div class="exercise-card elite">
                    <h3>Run a 5k</h3>
                    <p>Complete the distance</p>
                    <input type="checkbox" id="run-5k">
                    <button onclick="completeSimpleExercise('run-5k', 5000)">Complete (5000 pts)</button>
                </div>
                <div class="exercise-card elite">
                    <h3>100 Push-up Challenge</h3>
                    <p>Target: 100 reps</p>
                    <input type="number" id="pushups-100" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('pushups-100', 100, 1500)">Complete (1500 pts)</button>
                    <span class="status" id="pushups-100-status"></span>
                </div>
                <div class="exercise-card elite">
                    <h3>Murph Prep</h3>
                    <p>1-mile run, 10k jumping jacks, 50 Push-ups, 75 Squats, 1-mile run</p>
                    <input type="checkbox" id="murph-prep">
                    <button onclick="completeSimpleExercise('murph-prep', 10000)">Complete (10000 pts)</button>
                </div>
                <div class="exercise-card elite">
                    <h3>Handstand Hold</h3>
                    <p>Target: 60 seconds</p>
                    <input type="number" id="handstand" placeholder="Seconds completed" min="0">
                    <button onclick="completeExercise('handstand', 60, 1000)">Complete (1000 pts)</button>
                    <span class="status" id="handstand-status"></span>
                </div>
                <div class="exercise-card elite">
                    <h3>Muscle-up</h3>
                    <p>Target: 1 rep</p>
                    <input type="number" id="muscle-up" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('muscle-up', 1, 800)">Complete (800 pts)</button>
                    <span class="status" id="muscle-up-status"></span>
                </div>
            </div>
        </div>

        <!-- Workout Quests Tab -->
        <div id="workout-quests" class="tab-content" style="display: none;">
            <h2>Workout Quests (Total: 1,675 points)</h2>
            <div class="workout-grid">
                <div class="exercise-card">
                    <h3>Push-ups</h3>
                    <p>Target: 15 reps</p>
                    <input type="number" id="pushups-quest" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('pushups-quest', 15, 150)">Complete (150 pts)</button>
                    <span class="status" id="pushups-quest-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Lunges (each leg)</h3>
                    <p>Target: 20 reps</p>
                    <input type="number" id="lunges-quest" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('lunges-quest', 20, 200)">Complete (200 pts)</button>
                    <span class="status" id="lunges-quest-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Crunches</h3>
                    <p>Target: 30 reps</p>
                    <input type="number" id="crunches-quest" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('crunches-quest', 30, 300)">Complete (300 pts)</button>
                    <span class="status" id="crunches-quest-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Leg Raises</h3>
                    <p>Target: 25 reps</p>
                    <input type="number" id="leg-raises-quest" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('leg-raises-quest', 25, 250)">Complete (250 pts)</button>
                    <span class="status" id="leg-raises-quest-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Tricep Dips (Chair)</h3>
                    <p>Target: 15 reps</p>
                    <input type="number" id="tricep-dips-quest" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('tricep-dips-quest', 15, 225)">Complete (225 pts)</button>
                    <span class="status" id="tricep-dips-quest-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Pike Push-ups</h3>
                    <p>Target: 10 reps</p>
                    <input type="number" id="pike-pushups-quest" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('pike-pushups-quest', 10, 200)">Complete (200 pts)</button>
                    <span class="status" id="pike-pushups-quest-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Incline Push-ups</h3>
                    <p>Target: 20 reps</p>
                    <input type="number" id="incline-pushups-quest" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('incline-pushups-quest', 20, 150)">Complete (150 pts)</button>
                    <span class="status" id="incline-pushups-quest-status"></span>
                </div>
                <div class="exercise-card">
                    <h3>Diamond Push-ups</h3>
                    <p>Target: 10 reps</p>
                    <input type="number" id="diamond-pushups-quest" placeholder="Reps completed" min="0">
                    <button onclick="completeExercise('diamond-pushups-quest', 10, 200)">Complete (200 pts)</button>
                    <span class="status" id="diamond-pushups-quest-status"></span>
                </div>
            </div>
        </div>

        <!-- Side Quests Tab -->
        <div id="side-quests" class="tab-content" style="display: none;">
            <h2>Side Quests üòÉ (Total: 1,800 points)</h2>
            <div class="workout-grid">
                <div class="exercise-card side-quest">
                    <h3>Fully Edit Video</h3>
                    <p>With recap total and showing everything</p>
                    <input type="checkbox" id="edit-video">
                    <button onclick="completeSimpleExercise('edit-video', 2000)">Complete (2000 pts)</button>
                </div>
                <div class="exercise-card side-quest">
                    <h3>Main Workout Twice</h3>
                    <p>Do the full main workout twice</p>
                    <input type="checkbox" id="main-twice">
                    <button onclick="completeSimpleExercise('main-twice', 500)">Complete (500 pts)</button>
                </div>
                <div class="exercise-card side-quest">
                    <h3>Stretching 5-10 minutes</h3>
                    <p>With timer to show progress</p>
                    <input type="checkbox" id="stretching-timer">
                    <button onclick="completeSimpleExercise('stretching-timer', 50)">Complete (50 pts)</button>
                </div>
                <div class="exercise-card side-quest">
                    <h3>2nd Workout Twice</h3>
                    <p>Do the 2nd workout twice</p>
                    <input type="checkbox" id="second-twice">
                    <button onclick="completeSimpleExercise('second-twice', 1000)">Complete (1000 pts)</button>
                </div>
                <div class="exercise-card side-quest">
                    <h3>3rd Workout Twice</h3>
                    <p>Do the mobility workout twice</p>
                    <input type="checkbox" id="third-twice">
                    <button onclick="completeSimpleExercise('third-twice', 800)">Complete (800 pts)</button>
                </div>
            </div>

            <h3>Negative Points ü•≤</h3>
            <div class="negative-points">
                <button class="negative-btn" onclick="applyNegativePoints('miscount', 50)">Not fully counting reps (-50 pts)</button>
                <button class="negative-btn" onclick="applyNegativePoints('no-video', 3000)">Not editing video (-3000 pts)</button>
                <button class="negative-btn" onclick="applyNegativePoints('no-stretch', 50)">Not stretching (-50 pts)</button>
                <button class="negative-btn" onclick="applyNegativePoints('skip-main', 150)">Not doing full main workout (-150 pts)</button>
                
                <!-- Custom point deduction section -->
                <div class="custom-deduction">
                    <h4>Custom Point Deduction</h4>
                    <input type="number" id="custom-deduction-amount" placeholder="Enter points to deduct" min="1" max="10000">
                    <input type="text" id="custom-deduction-reason" placeholder="Reason for deduction">
                    <button class="negative-btn" onclick="applyCustomNegativePoints()">Apply Custom Deduction</button>
                </div>
            </div>
        </div>

        <!-- Leaderboard Tab - REMOVED -->
        </div> <!-- End app-content -->

    <!-- Profile Modal -->
    <div id="profile-modal" class="profile-modal">
        <div class="profile-modal-content">
            <div class="profile-modal-header">
                <h3>Edit Profile</h3>
                <button onclick="closeProfileModal()" class="close-modal-btn">&times;</button>
            </div>
            <div class="profile-form">
                <div class="form-group">
                    <label for="profile-name-input">Display Name</label>
                    <input type="text" id="profile-name-input" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label>Choose Avatar</label>
                    <div class="avatar-selector" id="avatar-selector">
                        <div class="avatar-option" data-avatar="üë§" onclick="selectAvatar('üë§')">üë§</div>
                        <div class="avatar-option" data-avatar="üòä" onclick="selectAvatar('üòä')">üòä</div>
                        <div class="avatar-option" data-avatar="üí™" onclick="selectAvatar('üí™')">üí™</div>
                        <div class="avatar-option" data-avatar="üèãÔ∏è" onclick="selectAvatar('üèãÔ∏è')">üèãÔ∏è</div>
                        <div class="avatar-option" data-avatar="üî•" onclick="selectAvatar('üî•')">üî•</div>
                        <div class="avatar-option" data-avatar="‚ö°" onclick="selectAvatar('‚ö°')">‚ö°</div>
                        <div class="avatar-option" data-avatar="üöÄ" onclick="selectAvatar('üöÄ')">üöÄ</div>
                        <div class="avatar-option" data-avatar="üéØ" onclick="selectAvatar('üéØ')">üéØ</div>
                        <div class="avatar-option" data-avatar="üèÜ" onclick="selectAvatar('üèÜ')">üèÜ</div>
                        <div class="avatar-option" data-avatar="üëë" onclick="selectAvatar('üëë')">üëë</div>
                        <div class="avatar-option" data-avatar="ü¶æ" onclick="selectAvatar('ü¶æ')">ü¶æ</div>
                        <div class="avatar-option" data-avatar="üåü" onclick="selectAvatar('üåü')">üåü</div>
                        <div class="avatar-option" data-avatar="üé™" onclick="selectAvatar('üé™')">üé™</div>
                        <div class="avatar-option" data-avatar="ü¶Ñ" onclick="selectAvatar('ü¶Ñ')">ü¶Ñ</div>
                        <div class="avatar-option" data-avatar="üêâ" onclick="selectAvatar('üêâ')">üêâ</div>
                        <div class="avatar-option" data-avatar="ü¶Ö" onclick="selectAvatar('ü¶Ö')">ü¶Ö</div>
                        <div class="avatar-option" data-avatar="ü¶Å" onclick="selectAvatar('ü¶Å')">ü¶Å</div>
                        <div class="avatar-option" data-avatar="üê∫" onclick="selectAvatar('üê∫')">üê∫</div>
                        <div class="avatar-option custom-image-option" onclick="selectCustomImage()">üì∑</div>
                    </div>
                    <div class="custom-image-upload">
                        <input type="file" id="custom-avatar-input" accept="image/*" style="display: none;" onchange="handleCustomImageUpload(event)">
                        <button type="button" onclick="document.getElementById('custom-avatar-input').click()" class="upload-btn">üì∑ Upload Custom Image</button>
                    </div>
                </div>
                
                <!-- Image Editor Section -->
                <div id="image-editor-section" class="image-editor-section" style="display: none;">
                    <h4>‚ú® Edit Your Profile Picture</h4>
                    
                    <!-- Image Preview and Canvas -->
                    <div class="image-editor-container">
                        <div class="editor-preview">
                            <img id="editor-preview-image" src="" alt="Preview" style="display: none;">
                            <canvas id="editor-canvas" width="300" height="300"></canvas>
                            <div class="crop-overlay" id="crop-overlay">
                                <div class="crop-handles">
                                    <div class="crop-handle top-left"></div>
                                    <div class="crop-handle top-right"></div>
                                    <div class="crop-handle bottom-left"></div>
                                    <div class="crop-handle bottom-right"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Editor Controls -->
                        <div class="editor-controls">
                            <!-- Crop Controls -->
                            <div class="control-group">
                                <h5>üñºÔ∏è Crop & Resize</h5>
                                <div class="control-buttons">
                                    <button type="button" onclick="enableCropMode()" class="control-btn crop-btn">‚úÇÔ∏è Crop</button>
                                    <button type="button" onclick="resetImage()" class="control-btn reset-btn">üîÑ Reset</button>
                                </div>
                                <div class="size-presets">
                                    <button type="button" onclick="resizeImage(150, 150)" class="size-btn">150x150</button>
                                    <button type="button" onclick="resizeImage(200, 200)" class="size-btn">200x200</button>
                                    <button type="button" onclick="resizeImage(300, 300)" class="size-btn">300x300</button>
                                </div>
                            </div>
                            
                            <!-- Filter Controls -->
                            <div class="control-group">
                                <h5>üé® Filters & Effects</h5>
                                <div class="filter-controls">
                                    <div class="slider-control">
                                        <label for="brightness-slider">‚òÄÔ∏è Brightness</label>
                                        <input type="range" id="brightness-slider" min="0" max="200" value="100" oninput="applyFilters()">
                                        <span id="brightness-value">100%</span>
                                    </div>
                                    
                                    <div class="slider-control">
                                        <label for="contrast-slider">üåó Contrast</label>
                                        <input type="range" id="contrast-slider" min="0" max="200" value="100" oninput="applyFilters()">
                                        <span id="contrast-value">100%</span>
                                    </div>
                                    
                                    <div class="slider-control">
                                        <label for="saturation-slider">üé≠ Saturation</label>
                                        <input type="range" id="saturation-slider" min="0" max="200" value="100" oninput="applyFilters()">
                                        <span id="saturation-value">100%</span>
                                    </div>
                                    
                                    <div class="slider-control">
                                        <label for="blur-slider">üå´Ô∏è Blur</label>
                                        <input type="range" id="blur-slider" min="0" max="10" value="0" oninput="applyFilters()">
                                        <span id="blur-value">0px</span>
                                    </div>
                                </div>
                                
                                <div class="filter-presets">
                                    <button type="button" onclick="applyPresetFilter('grayscale')" class="filter-btn">üñ§ Grayscale</button>
                                    <button type="button" onclick="applyPresetFilter('sepia')" class="filter-btn">üü§ Sepia</button>
                                    <button type="button" onclick="applyPresetFilter('invert')" class="filter-btn">üîÑ Invert</button>
                                    <button type="button" onclick="applyPresetFilter('none')" class="filter-btn">‚ú® Clear</button>
                                </div>
                            </div>
                            
                            <!-- Rotation Controls -->
                            <div class="control-group">
                                <h5>üîÑ Rotation</h5>
                                <div class="rotation-controls">
                                    <button type="button" onclick="rotateImage(-90)" class="control-btn">‚Ü∫ Left</button>
                                    <button type="button" onclick="rotateImage(90)" class="control-btn">‚Üª Right</button>
                                    <button type="button" onclick="flipImage('horizontal')" class="control-btn">‚ÜîÔ∏è Flip H</button>
                                    <button type="button" onclick="flipImage('vertical')" class="control-btn">‚ÜïÔ∏è Flip V</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Editor Action Buttons -->
                    <div class="editor-actions">
                        <button type="button" onclick="saveEditedImage()" class="save-edited-btn">üíæ Save Changes</button>
                        <button type="button" onclick="cancelImageEdit()" class="cancel-edit-btn">‚ùå Cancel</button>
                    </div>
                </div>
                <button onclick="saveProfile()" class="save-profile-btn">üíæ Save Profile</button>
            </div>
        </div>
    </div>

    <script src="script-github.js?v=5"></script>
</body>
</html>
